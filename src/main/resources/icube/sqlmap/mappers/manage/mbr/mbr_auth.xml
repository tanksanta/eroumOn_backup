<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mbr.auth">

	<sql id="listColumn">
		mau.auth_no
		, mau.mbr_unique_id
		, mau.join_ty
		, mau.mbr_id
		, mau.pswd
		, mau.naver_app_id
		, mau.kakao_app_id
		, mau.eml
		, mau.mbl_telno
		, mau.ci_key
		, mau.reg_dt
		, mau.del_dt
		, mau.del_yn
	</sql>
	
	<sql id="searchConditions">
		<if test="srchMbrUniqueId != null and srchMbrUniqueId != '' ">
			AND mau.mbr_unique_id = #{srchMbrUniqueId}
		</if>
		<if test="srchMbrId != null and srchMbrId != '' ">
			AND mau.mbr_id = #{srchMbrId}
		</if>
		<if test="srchKakaoAppId != null and srchKakaoAppId != '' ">
			AND mau.kakao_app_id = #{srchKakaoAppId}
		</if>
		<if test="srchNaverAppId != null and srchNaverAppId != '' ">
			AND mau.naver_app_id = #{srchNaverAppId}
		</if>
	</sql>
	
	
	<select id="selectMbrAuth" parameterType="java.util.HashMap" resultType="mbrAuthVO">
		SELECT
			<include refid="listColumn" />
		FROM MBR_AUTH mau
		WHERE mau.del_yn = 'N'
			<include refid="searchConditions" />
	</select>
	

	<insert id="insertMbrAuth" parameterType="mbrAuthVO">
		INSERT INTO MBR_AUTH(
			MBR_UNIQUE_ID
			, JOIN_TY
			, MBR_ID
			, PSWD
			, NAVER_APP_ID
			, KAKAO_APP_ID
			, EML
			, MBL_TELNO
			, CI_KEY
			, REG_DT
			, DEL_YN
		)VALUES(
			#{mbrUniqueId}
			, #{joinTy}
			, #{mbrId}
			, #{pswd}
			, #{naverAppId}
			, #{kakaoAppId}
			, #{eml}
			, #{mblTelno}
			, #{ciKey}
			, SYSDATE()
			, #{delYn}
		)
	</insert>
</mapper>